<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>POST Page</title>
<link rel="stylesheet" href="../styles.css">
</head>

<script>

	const goBack = () => {
		window.history.back();
	};

  const uploadFile = async () => {
	const fileInput = document.getElementById('fileUpload');
	const file = fileInput.files[0];

	if (!file) {
		alert('Please select a file to upload');
		return;
	}

	const formData = new FormData();
	formData.append('file', file);
	const url = `${window.location.origin}/uploads/${file.name}`;

	try {
		const response = await fetch(url, {
			method: 'POST',
			body: formData
		});

		// const result = await response.text();
		// console.log(result);
		// alert('File uploaded successfully!');
	} catch (error) {
		console.error('Error:', error);
		// alert("Error: " + error.message);
	}
  };

</script>

<body class="background">

<button onclick="goBack()" class="back-button">
Back
</button>

<div class="content" style="margin-bottom: 50px;">
Upload a file to simulate a POST request. The file will be uploaded to the server.
</div>

<div>
	<label for="fileUpload">Choose a file:</label>
	<input type="file" id="fileUpload" name="file">
	<button type="button" onclick="uploadFile()">Upload File</button>
</div>

</body>
</html>
